{"remainingRequest":"/Users/mcr/Orbital_0717/nutypeset_front-end/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/Users/mcr/Orbital_0717/nutypeset_front-end/src/views/Personal/Personal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mcr/Orbital_0717/nutypeset_front-end/src/views/Personal/Personal.vue","mtime":1626595793973},{"path":"/Users/mcr/Orbital_0717/nutypeset_front-end/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":1626503941060},{"path":"/Users/mcr/Orbital_0717/nutypeset_front-end/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":1626503940945},{"path":"/Users/mcr/Orbital_0717/nutypeset_front-end/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":1626503941060},{"path":"/Users/mcr/Orbital_0717/nutypeset_front-end/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":1626503944375}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBnZXRVc2VySW5mbyB9IGZyb20gIkAvYXBpL2h0dHAuanMiOwoKCmV4cG9ydCBkZWZhdWx0IHsKCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpbmZvOiB7fSwKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGdldFRva2VuKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudG9rZW47CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgLy/ojrflj5bnlKjmiLfkv6Hmga8KICAgIGFzeW5jIGdldEluZm8oKSB7CiAgICAgIHRyeSB7CiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0VXNlckluZm8oe3Rva2VuOnRoaXMuZ2V0VG9rZW59KTsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdldFRva2VuKQogICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCkKICAgICAgICBpZiAocmVzdWx0LmNvZGUgPT09IDApIHsKICAgICAgICAgIHRoaXMuaW5mbyA9IHJlc3VsdC5kYXRhOwogICAgICAgICAgCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKCiAgICAvL+mAgOWHuueZu+W9lQogICAgYXN5bmMgc2lnbk91dCgpIHsKICAgICAgLy/muIXpmaR0b2tlbgogICAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2xlYXJUb2tlbicpOwogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKTsKCiAgICAgIC8v5Yi35paw6aG16Z2iCiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQogIH0sCgogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5nZXRUb2tlbikgewogICAgICB0aGlzLmdldEluZm8oKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["Personal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Personal.vue","sourceRoot":"src/views/Personal","sourcesContent":["<template>\n<div>\n    <div class=\"container\">\n        <div class=\"p_top\">\n            \n            <div>\n                <router-link to=\"/login\" v-if = \"getToken === ''\"> \n                <p>login</p>\n                </router-link>\n                \n            </div>\n        </div>\n        <div v-if=\"getToken !== ''\" >\n                <p >name: {{info.username}} </p>\n                <p >id: {{info.id}} </p>\n                <p>phone: {{info.phone}} </p>\n                <p >email: {{info.email}} </p>\n        </div>\n        <button v-if=\"getToken !== ''\" class=\"green\" @click=\"signOut\">\n            log out\n        </button>\n    </div>\n  </div>\n\n</template>\n\n<script>\n\nimport { getUserInfo } from \"@/api/http.js\";\n\n\nexport default {\n\n\n  data() {\n    return {\n      info: {},\n    };\n  },\n\n  computed: {\n    getToken() {\n      return this.$store.state.token;\n    }\n  },\n\n  methods: {\n    //获取用户信息\n    async getInfo() {\n      try {\n        const result = await getUserInfo({token:this.getToken});\n        console.log(this.getToken)\n        console.log(result)\n        if (result.code === 0) {\n          this.info = result.data;\n          \n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    //退出登录\n    async signOut() {\n      //清除token\n      await this.$store.dispatch('clearToken');\n      localStorage.removeItem(\"token\");\n\n      //刷新页面\n      location.reload();\n    }\n  },\n\n  mounted() {\n    if (this.getToken) {\n      this.getInfo();\n    }\n  }\n};\n</script>\n"]}]}